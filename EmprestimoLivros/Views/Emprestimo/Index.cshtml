@model IEnumerable<EmprestimosModel>

<div class="d-flex justify-content-between align-items-center mb-5">
    <h1>Empréstimos</h1>
    <div>
        <a class="btn btn-success mx-2" asp-area="" asp-controller="Emprestimo" asp-action="Exportar"><i class="bi bi-file-arrow-down mx-2"></i>Exportar</a>
        <a class="btn btn-success mx-2" asp-area="" asp-controller="Emprestimo" asp-action="Cadastrar"><i class="bi bi-file-earmark-plus mx-2"></i>Cadastrar novo empréstimo</a>
    </div>
</div>

@if(TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success" role="alert">
        @TempData["MensagemSucesso"]
        @(TempData["MensagemErro"] = null) 
    </div>
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["MensagemErro"]
        @(TempData["MensagemSucesso"] = null)

    </div>
}

<div class="table-responsive">
    <table id="Emprestimos" class="table table-striped table-hover table-primary">
        <thead>
            <tr>
                <th scope="col" class="align-middle">Recebedor</th>
                <th scope="col" class="align-middle">Fornecedor</th>
                <th scope="col" class="align-middle">Livro</th>
                <th scope="col" class="align-middle">Data do Empréstimo</th>

                <th scope="col" class="align-middle">Última atualização</th>
                <th scope="col" class="align-middle"></th>
            </tr>
        </thead>
        <tbody>

            @if (Model != null)
            {
                @foreach (var emprestimo in Model)
                {
                    <tr>
                        <td class="align-middle text-truncate" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="@emprestimo.Recebedor">@emprestimo.Recebedor</td>
                        <td class="align-middle text-truncate" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="@emprestimo.Fornecedor">@emprestimo.Fornecedor</td>
                        <td class="align-middle text-truncate" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="@emprestimo.LivroEmprestado">@emprestimo.LivroEmprestado</td>
                        <td class="align-middle text-truncate" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="@emprestimo.DataEmprestimo">@emprestimo.DataEmprestimo</td>
                        <td class="align-middle text-truncate" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="@emprestimo.DataUltimaAtualizacao">@emprestimo.DataUltimaAtualizacao</td>
                        <td class="align-middle">
                            <div class="d-flex justify-content-around">
                                <a asp-controller="Emprestimo" asp-action="Editar" asp-route-id="@emprestimo.Id" class="btn btn-warning mx-2"><i class="bi bi-pencil-square mx-2"></i>Editar</a>
                                <a asp-controller="Emprestimo" asp-action="Excluir" asp-route-id="@emprestimo.Id" class="btn btn-danger mx-2"><i class="bi bi-trash3-fill mx-2"></i>Excluir</a>
                            </div>
                        </td>
                    </tr>
                }
            }

        </tbody>

    </table>
</div>